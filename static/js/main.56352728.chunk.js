(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={overlay:"Modal_overlay__3SBvL",modal:"Modal_modal__1b9-m"}},14:function(e,t,a){e.exports={gallery:"ImageGalleryList_gallery__2jTAB"}},19:function(e,t,a){e.exports={container:"Container_container__2d7w9"}},24:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(13),i=a.n(c),o=(a(24),a(3)),s=a(12),u=a(2),l=a.n(u),m=a(8),g=a.n(m),b=a(0),h=function(e){var t=e.url,a=e.id,n=e.largeImage,r=e.tags,c=e.toggleModal,i=e.handleLargeImage;return Object(b.jsx)("li",{className:g.a.item,onClick:function(){return c(),void i(n)},children:Object(b.jsx)("img",{src:t,alt:r,className:g.a.itemImage})},a)};h.propeType={url:l.a.string.isRequired,id:l.a.string.isRequired,largeImage:l.a.string.isRequired,tags:l.a.string.isRequired,toggleModal:l.a.func.isRequired,handleLargeImage:l.a.func.isRequired};var j=h,d=a(14),f=a.n(d),p=function(e){var t=e.images,a=e.toggleModal,n=e.handleLargeImage;return Object(b.jsx)("ul",{className:f.a.gallery,children:t.map((function(e){var t=e.webformatURL,r=e.id,c=e.tags,i=e.largeImageURL;return Object(b.jsx)(j,{url:t,id:r,largeImage:i,tags:c,toggleModal:a,handleLargeImage:n})}))})},O=a(9),_=a.n(O),v=function(e){var t=e.title,a=e.type,n=void 0===a?"button":a,r=e.cbonClick;return Object(b.jsx)("div",{className:_.a.buttonThumb,children:Object(b.jsx)("button",{type:n,onClick:r,className:_.a.button,children:t})})},x=a(10),y=a.n(x);function I(e){var t=e.children,a=e.onCloseModal;Object(n.useEffect)((function(){function e(e){"Escape"===e.code&&a()}return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[a]);return Object(b.jsx)("div",{onClick:function(e){e.currentTarget===e.target&&a()},className:y.a.overlay,children:Object(b.jsx)("div",{className:y.a.modal,children:t})})}var S=a(15),w=a.n(S),k=(a(46),a(11)),N=a.n(k),L=a(16),q=a(17),C=a(18),M=new(function(){function e(){Object(q.a)(this,e),this.query="",this.page=1}return Object(C.a)(e,[{key:"fatchImages",value:function(){var e=Object(L.a)(N.a.mark((function e(){var t,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=".concat(this.query,"&page=").concat(this.page,"&per_page=12&key=").concat("21789749-6de12aa5ab416fe119ffd7e9c"));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,this.incrementPage(),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"incrementPage",value:function(){this.page+=1}},{key:"resetPage",value:function(){this.page=1}}]),e}());function T(e){var t=e.imageName,a=Object(n.useState)([]),r=Object(o.a)(a,2),c=r[0],i=r[1],u=Object(n.useState)(!1),l=Object(o.a)(u,2),m=l[0],g=l[1],h=Object(n.useState)(""),j=Object(o.a)(h,2),d=j[0],f=j[1],O=Object(n.useState)(!1),_=Object(o.a)(O,2),x=_[0],y=_[1];Object(n.useEffect)((function(){""!==t&&(i([]),M.query=t,M.resetPage(),k())}),[t]);var S=function(){g((function(e){return!e}))},k=function(){y(!0),setTimeout((function(){M.fatchImages().then((function(e){var t=e.hits;return i((function(e){return[].concat(Object(s.a)(e),Object(s.a)(t))}))})).catch((function(e){return console.log(e)})).finally(y(!1))}),1e3)};return Object(b.jsxs)(b.Fragment,{children:[m&&Object(b.jsx)(I,{onCloseModal:S,children:Object(b.jsx)("img",{src:d,alt:"pics",width:"680",height:"500"})}),Object(b.jsx)(p,{images:c,toggleModal:S,handleLargeImage:function(e){f(e)}}),c.length>0&&!x&&Object(b.jsx)(v,{title:"Load More",cbonClick:k}),x&&Object(b.jsx)(w.a,{type:"Bars",color:"#3f51b5",height:50,width:50,timeout:1e3})]})}var R=a(19),E=a.n(R),F=function(e){var t=e.children;return Object(b.jsx)("div",{className:E.a.container,children:t})},B=function(e){var t=e.children;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(F,{children:t})})},G=a(5),P=a.n(G);function A(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(o.a)(a,2),c=r[0],i=r[1];return Object(b.jsx)("header",{className:P.a.searchbar,children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(c),i("")},className:P.a.searchForm,children:[Object(b.jsx)("button",{type:"submit",className:P.a.button}),Object(b.jsx)("input",{className:P.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){i(e.currentTarget.value.toLowerCase())}})]})})}function J(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(b.jsxs)(B,{children:[Object(b.jsx)(A,{onSubmit:function(e){r(e)}}),Object(b.jsx)(T,{imageName:a})]})}i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(J,{})}),document.getElementById("root"))},5:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__39O2t",searchForm:"Searchbar_searchForm__3F2Ax",button:"Searchbar_button__2OttS",input:"Searchbar_input__1nsKy"}},8:function(e,t,a){e.exports={item:"ImageGalleryItem_item__2S08y",itemImage:"ImageGalleryItem_itemImage__Itc7K","item-image":"ImageGalleryItem_item-image__5qTsm"}},9:function(e,t,a){e.exports={buttonThumb:"Button_buttonThumb__-0WE1",button:"Button_button__1yjSi"}}},[[48,1,2]]]);
//# sourceMappingURL=main.56352728.chunk.js.map